# 瞬间

这是一个能让你发动态的网页项目

具体功能:
1.你可以通过网页或者客户端(安卓)进行管理在服务端的动态
2.实现md语法与渲染
3.支持嵌入HTML
4.网页前后端一体,实时渲染

## 项目架构

```
/
│
├── server.py                     # 服务端（Flask）
│
├── config.json                   # 配置文件  
│
├── templates/                    # 网页文件目录
│     ├── index.html              # 动态展示页面
│     ├── status.html             # 状态历史查看
│     ├── post.html               # 发布动态页面
│     ├── css/
│     ├── js/
│     └── img/
│
├── posts/                        # 动态正文（Markdown 格式）
│     ├── 2025-01-20-1.md         # 动态文件
│     ├── 2025-01-20-2.md         # 动态文件
│     └── ...                     # 更多动态文件
│
├── status/                       # 状态记录（Markdown 格式）
│     ├── 2025-01-20-1.md         # 每天一条或每次更新一条状态
│     ├── 2025-01-20-2.md         # 状态记录文件
│     └── ...                     # 更多历史状态文件
│
└── upload/                       # 上传图片或背景
      ├── bg_20250120_1.png
      └── ...
```

## 存储

### 配置文件

```
{
  "server": {
    "host": "127.0.0.1",   // 服务器地址
    "port": 5000           // 服务器端口
  },
  "nickname": "Ruibin_Ningh", //你的昵称
  "avatar": "avatar.png", //upload目录下的文件名
  "api_key": "your-api-key-here",   // 你可以设置一个 API Key 来保护你的接口,留空则无
  "view_time_limit_days": 7    // 设置访问时间限制,超过这个天数不他人不可见
  "comment": false  //是否开启评论功能(未实现)
}
```

### 动态

动态文件示例

`posts/2025-01-20-1.md`

```
---
time: "2025-01-20 10:00:00"
tags: ["微信"]
---

今天继续开发动态系统，优化了状态管理模块，整合了 Markdown 支持。  
在实现后台功能时遇到了一些小问题，但成功解决了。

正在思考如何优化 API 性能，未来可能会采用缓存机制来提高响应速度。

```

### 状态

状态文件示例

`status/2025-01-20-1.md`

```
---
time: "2025-01-20 10:00:00"
name: "coding(自定义)"
background: "/upload/bg_20250120_1.png"
---

正在编写动态系统代码，忙碌而充实！

```

## 标签系统

为了鉴别一些动态来源之类的,我计划添加标签系统

一般标签例如"微信"表示这个动态是和你的微信朋友圈同步的,前端渲染时应该提示"来自微信朋友圈"

## 后端相关变量/API

### 获取动态列表

`GET /api/posts`

会返回动态的列表,超过期限的内容不会显示(可配置)

示例返回

```
{
  "count": 2, //动态的总数
  "posts": [
    {
      "meta": {
        "time": "2025-01-20 10:00:00",
        "tags": ["微信"]
      },
      "html": "<p>渲染后的正文 HTML……</p>",
      "raw": "---\n...原 Markdown...\n",
      "filename": "2025-01-20-1.md"
    },//第一个动态
    {
      "meta": {
        "time": "2025-01-20 10:00:00",
        "tags": ["微信"]
      },
      "html": "<p>渲染后的正文 HTML……</p>",
      "raw": "---\n...原 Markdown...\n",
      "filename": "2025-01-20-1.md"
    }//第二个动态
  ]
}
```

